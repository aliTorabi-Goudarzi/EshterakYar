# ฺฏุฒุงุฑุด ุชูุณุนู: ูุงุฒ ฑ - ูฺฺฏ ฑ (ูพุดุชุจุงู ุชููู ุดูุณ)

**ุชุงุฑุฎ:** 2025-12-25
**ุชูุณุนูโุฏููุฏู:** Antigravity Agent

## ๐ ุฎูุงุตู ุชุบุฑุงุช
ุฏุฑ ุงู ูุฑุญููุ ุฒุฑุณุงุฎุช ุงุตู ุจุฑุง ูพุดุชุจุงู ุนูู ุงุฒ ุชููู ุดูุณ (ุฌูุงู) ุฏุฑ ูุงู Domain ูพุงุฏูโุณุงุฒ ุดุฏ ู ููฺูู ุฏุฑ ูุงู Presentation ุจุฑุง ููุงุด ุชุงุฑุฎโูุง ุดูุณ ุงุฏุบุงู ฺฏุฑุฏุฏ.

## ๐๏ธ ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ

### ฑ. ูุฏู ุฏุงุฏูโุง `JalaliDate` (Domain Layer)
- ูุณุฑ: `ir.dekot.eshterakyar.core.domain.model.JalaliDate`
- ฺฉ `data class` ุบุฑูุงุจู ุชุบุฑ (Immutable) ุจุฑุง ูฺฏูุฏุงุฑ ุชุงุฑุฎ ุดูุณ.
- **ุงุนุชุจุงุฑุณูุฌ (Validation):** ุฏุฑ ุฒูุงู ุณุงุฎุช ุขุจุฌฺฉุชุ ูุฑูุฏโูุง (ุณุงูุ ูุงูุ ุฑูุฒ) ฺฺฉ ูโุดููุฏ ู ุฏุฑ ุตูุฑุช ูุงูุนุชุจุฑ ุจูุฏู ุฎุทุง ูพุฑุชุงุจ ูโุดูุฏ.
- **ูุญุงุณุจุงุช ฺฉุจุณู:** ุงูฺฏูุฑุชู ณณ ุณุงูู ุจุฑุง ุชุดุฎุต ุณุงูโูุง ฺฉุจุณู ูพุงุฏูโุณุงุฒ ุดุฏ.
- **ุทูู ูุงู:** ููุทู ูุญุงุณุจู ุทูู ูุงู (ถ ูุงู ุงูู ณฑ ุฑูุฒุ ต ูุงู ุฏูู ณฐ ุฑูุฒุ ูุงู ุขุฎุฑ ฒน ุง ณฐ ุฑูุฒ).
- **ูุฑูุชโุฏู:** ูุชุฏูุง `toString()` ู `format()` ุจุฑุง ููุงุด ุชุงุฑุฎ (ูุงููุฏ `1403/01/01`) ุงุถุงูู ุดุฏูุฏ.
- **ูุงู ูุงู:** ูุชุฏ `monthName()` ุจุฑุง ุฏุฑุงูุช ูุงู ูุงุฑุณ ูุงู.

### ฒ. ูุจุฏู ุชุงุฑุฎ `DateConverter` (Domain Layer)
- ูุณุฑ: `ir.dekot.eshterakyar.core.domain.utils.DateConverter`
- ุชุจุฏู ุฏูุทุฑูู ุจู `java.time.LocalDate` (ููุงุฏ) ู `JalaliDate`.
- ุงุฒ ุงูฺฏูุฑุชู ุงุณุชุงูุฏุงุฑุฏ ุชุจุฏู ุฑูุฒ-ุดูุงุฑ (JDN/Day Count) ุจุฑุง ุฏูุช ุจุงูุง ุงุณุชูุงุฏู ุดุฏ.

### ณ. ุจุฑูุฒุฑุณุงู ุฑุงุจุท ฺฉุงุฑุจุฑ (UI Layer)
ฺฉุงููพูููุชโูุง ุฒุฑ ุจุฑุง ููุงุด ุชุงุฑุฎ ุดูุณ ุจุฌุง ููุงุฏ ุจุฑูุฒุฑุณุงู ุดุฏูุฏ:
- **`SubscriptionCard`:** ููุงุด ุชุงุฑุฎ ุชูุฏุฏ ุจุนุฏ ุฏุฑ ูุณุช ุงุดุชุฑุงฺฉโูุง.
- **`ScheduleStep`:** ููุงุด ุชุงุฑุฎ ุงูุชุฎุงุจ ุดุฏู ุฏุฑ ูุฑู ุงูุฒูุฏู ุงุดุชุฑุงฺฉ (ูุฑุญูู ุฒูุงูโุจูุฏ).
- **`ReviewStep`:** ููุงุด ุชุงุฑุฎ ููุง ุฏุฑ ูุฑุญูู ุจุฑุฑุณ ู ุฐุฎุฑู.

## โ ุชุณุช ู ุงุนุชุจุงุฑุณูุฌ (TDD)
ุทุจู ูุงููู ุงุณุงุณ (Constitution)ุ ุงุจุชุฏุง ุชุณุชโูุง ููุดุชู ุดุฏูุฏ ู ุณูพุณ ฺฉุฏ ูพุงุฏูโุณุงุฒ ุดุฏ.

### ุชุณุชโูุง ููุดุชู ุดุฏู:
1. **`JalaliDateTest`:**
   - ุณุงุฎุช ุชุงุฑุฎ ูุนุชุจุฑ.
   - ูพุฑุชุงุจ ุฎุทุง ุจุฑุง ุชุงุฑุฎ ูุงูุนุชุจุฑ.
   - ุจุฑุฑุณ ุทูู ูุงูโูุง ุฏุฑ ุณุงู ฺฉุจุณู ู ุนุงุฏ.
   - ุชุดุฎุต ุตุญุญ ุณุงู ฺฉุจุณู (ูุซูุงู ฑดฐณ).

2. **`DateConverterTest`:**
   - ุชุจุฏู ุฏูู ููุฑูุฒ ฑดฐณ (2024-03-20).
   - ุชุจุฏู ุฑูุช ู ุจุฑฺฏุดุช (Round-trip) ุจุฑุง ุงุทููุงู ุงุฒ ุตุญุช ุงูฺฏูุฑุชู.
   - ุจุฑุฑุณ ููุฏู ฺฉุฑุฏู ุณุงูโูุง ฺฉุจุณู ุฏุฑ ุชุจุฏู.

## ๐ ูุถุนุช ูุนู
โ **ูฺฺฏ ยซูพุดุชุจุงู ุนูู ุชููู ุดูุณยป ุจุง ููููุช ุชฺฉูู ุดุฏ.**

---
**ูุงูโูุง ุงุฌุงุฏ/ูุฑุงุด ุดุฏู:**
- `core/domain/model/JalaliDate.kt`
- `core/domain/utils/DateConverter.kt`
- `core/presentation/components/JalaliDatePicker.kt` *(ุฌุฏุฏ)*
- `test/.../JalaliDateTest.kt`
- `test/.../DateConverterTest.kt`
- `feature_home/.../SubscriptionCard.kt`
- `feature_home/.../SubscriptionDetail.kt`
- `feature_home/.../EditSubscription.kt`
- `feature_addSubscription/.../ScheduleStep.kt`
- `feature_addSubscription/.../ReviewStep.kt`
- `feature_addSubscription/.../SubscriptionItem.kt`
- `feature_addSubscription/.../SubscriptionDetailBottomSheet.kt`
- `screens/ProfileDetailScreen.kt`
- `screens/personalInfo/screen/PersonalInformationScreen.kt`

---

## ๐๏ธ ฺฉุงููพูููุช ุฌุฏุฏ: ุงูุชุฎุงุจฺฏุฑ ุชุงุฑุฎ ุดูุณ (`JalaliDatePicker`)

### ุชูุถุญุงุช
ฺฉ ฺฉุงููพูููุช ุจูู Compose ุจุฑุง ุงูุชุฎุงุจ ุชุงุฑุฎ ุดูุณ ฺฉู ุฌุงฺฏุฒู DatePicker ุงุณุชุงูุฏุงุฑุฏ Material3 ุดุฏู ุงุณุช.

### ูุนูุงุฑ
- **`JalaliDatePickerState`:** ฺฉูุงุณ ูุถุนุช ุจุฑ ุงุณุงุณ MVI ุจุฑุง ูุฏุฑุช ุณุงูุ ูุงู ู ุฑูุฒ ุงูุชุฎุงุจ.
- **`JalaliDatePickerDialog`:** ฺฉ Dialog wrapper ุณุงุฒฺฏุงุฑ ุจุง Material3.
- **`JalaliDatePicker`:** ฺฉุงููพูููุช ุงุตู ุดุงูู:
  - **Header:** ููุงุด ุชุงุฑุฎ ุงูุชุฎุงุจ ุดุฏู.
  - **Month Navigation:** ุฏฺฉููโูุง ูุงู ูุจู/ุจุนุฏ.
  - **Day Grid:** ุดุจฺฉู ท ุณุชูู ุฑูุฒูุง ูุงู ุจุง ุชุฑุงุฒ ุฏุฑุณุช.
  - **Year Selector:** ูุณุช ูุงุจู ุงุณฺฉุฑูู ุณุงูโูุง (ฑณตฐ ุชุง ฑดตฐ).

### ุงุฏุบุงู
- **`ScheduleStep.kt`:** ูุฑู ุงูุฒูุฏู ุงุดุชุฑุงฺฉ ุงุฒ ุงูุชุฎุงุจฺฏุฑ ุดูุณ ุงุณุชูุงุฏู ูโฺฉูุฏ.
- **`EditSubscription.kt`:** ูุฑุงุด ุงุดุชุฑุงฺฉ ุจุง ุงูุชุฎุงุจฺฏุฑ ุดูุณ.

### ุชุงุฏ
- **Build:** ฺฉุงููพุงู ูููู (`./gradlew :app:compileDebugKotlin`).
- **ุชุณุชโูุง:** JalaliDateTest ู DateConverterTest ูููู.
